<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Command-line Arguments - The rustc book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="what-is-rustc.html"><strong aria-hidden="true">1.</strong> What is rustc?</a></li><li class="chapter-item expanded "><a href="command-line-arguments.html" class="active"><strong aria-hidden="true">2.</strong> Command-line Arguments</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="codegen-options/index.html"><strong aria-hidden="true">2.1.</strong> Codegen Options</a></li></ol></li><li class="chapter-item expanded "><a href="lints/index.html"><strong aria-hidden="true">3.</strong> Lints</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="lints/levels.html"><strong aria-hidden="true">3.1.</strong> Lint Levels</a></li><li class="chapter-item expanded "><a href="lints/groups.html"><strong aria-hidden="true">3.2.</strong> Lint Groups</a></li><li class="chapter-item expanded "><a href="lints/listing/index.html"><strong aria-hidden="true">3.3.</strong> Lint Listing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="lints/listing/allowed-by-default.html"><strong aria-hidden="true">3.3.1.</strong> Allowed-by-default Lints</a></li><li class="chapter-item expanded "><a href="lints/listing/warn-by-default.html"><strong aria-hidden="true">3.3.2.</strong> Warn-by-default Lints</a></li><li class="chapter-item expanded "><a href="lints/listing/deny-by-default.html"><strong aria-hidden="true">3.3.3.</strong> Deny-by-default Lints</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="json.html"><strong aria-hidden="true">4.</strong> JSON Output</a></li><li class="chapter-item expanded "><a href="tests/index.html"><strong aria-hidden="true">5.</strong> Tests</a></li><li class="chapter-item expanded "><a href="platform-support.html"><strong aria-hidden="true">6.</strong> Platform Support</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="target-tier-policy.html"><strong aria-hidden="true">6.1.</strong> Target Tier Policy</a></li><li class="chapter-item expanded "><a href="platform-support/TEMPLATE.html"><strong aria-hidden="true">6.2.</strong> Template for Target-specific Documentation</a></li><li class="chapter-item expanded "><a href="platform-support/aarch64-apple-ios-sim.html"><strong aria-hidden="true">6.3.</strong> aarch64-apple-ios-sim</a></li><li class="chapter-item expanded "><a href="platform-support/apple-watchos.html"><strong aria-hidden="true">6.4.</strong> *-apple-watchos*</a></li><li class="chapter-item expanded "><a href="platform-support/aarch64-nintendo-switch-freestanding.html"><strong aria-hidden="true">6.5.</strong> aarch64-nintendo-switch-freestanding</a></li><li class="chapter-item expanded "><a href="platform-support/armeb-unknown-linux-gnueabi.html"><strong aria-hidden="true">6.6.</strong> armeb-unknown-linux-gnueabi</a></li><li class="chapter-item expanded "><a href="platform-support/armv4t-none-eabi.html"><strong aria-hidden="true">6.7.</strong> armv4t-none-eabi</a></li><li class="chapter-item expanded "><a href="platform-support/armv5te-none-eabi.html"><strong aria-hidden="true">6.8.</strong> armv5te-none-eabi</a></li><li class="chapter-item expanded "><a href="platform-support/armv6k-nintendo-3ds.html"><strong aria-hidden="true">6.9.</strong> armv6k-nintendo-3ds</a></li><li class="chapter-item expanded "><a href="platform-support/armv7-sony-vita-newlibeabihf.html"><strong aria-hidden="true">6.10.</strong> armv7-sony-vita-newlibeabihf</a></li><li class="chapter-item expanded "><a href="platform-support/armv7-unknown-linux-uclibceabi.html"><strong aria-hidden="true">6.11.</strong> armv7-unknown-linux-uclibceabi</a></li><li class="chapter-item expanded "><a href="platform-support/armv7-unknown-linux-uclibceabihf.html"><strong aria-hidden="true">6.12.</strong> armv7-unknown-linux-uclibceabihf</a></li><li class="chapter-item expanded "><a href="platform-support/android.html"><strong aria-hidden="true">6.13.</strong> *-android and *-androideabi</a></li><li class="chapter-item expanded "><a href="platform-support/openharmony.html"><strong aria-hidden="true">6.14.</strong> *-linux-ohos</a></li><li class="chapter-item expanded "><a href="platform-support/esp-idf.html"><strong aria-hidden="true">6.15.</strong> *-esp-espidf</a></li><li class="chapter-item expanded "><a href="platform-support/fuchsia.html"><strong aria-hidden="true">6.16.</strong> *-unknown-fuchsia</a></li><li class="chapter-item expanded "><a href="platform-support/kmc-solid.html"><strong aria-hidden="true">6.17.</strong> *-kmc-solid_*</a></li><li class="chapter-item expanded "><a href="platform-support/loongarch-linux.html"><strong aria-hidden="true">6.18.</strong> loongarch*-unknown-linux-*</a></li><li class="chapter-item expanded "><a href="platform-support/m68k-unknown-linux-gnu.html"><strong aria-hidden="true">6.19.</strong> m68k-unknown-linux-gnu</a></li><li class="chapter-item expanded "><a href="platform-support/mips64-openwrt-linux-musl.html"><strong aria-hidden="true">6.20.</strong> mips64-openwrt-linux-musl</a></li><li class="chapter-item expanded "><a href="platform-support/mipsel-sony-psx.html"><strong aria-hidden="true">6.21.</strong> mipsel-sony-psx</a></li><li class="chapter-item expanded "><a href="platform-support/nvptx64-nvidia-cuda.html"><strong aria-hidden="true">6.22.</strong> nvptx64-nvidia-cuda</a></li><li class="chapter-item expanded "><a href="platform-support/riscv32imac-unknown-xous-elf.html"><strong aria-hidden="true">6.23.</strong> riscv32imac-unknown-xous-elf</a></li><li class="chapter-item expanded "><a href="platform-support/pc-windows-gnullvm.html"><strong aria-hidden="true">6.24.</strong> *-pc-windows-gnullvm</a></li><li class="chapter-item expanded "><a href="platform-support/nto-qnx.html"><strong aria-hidden="true">6.25.</strong> *-nto-qnx-*</a></li><li class="chapter-item expanded "><a href="platform-support/openbsd.html"><strong aria-hidden="true">6.26.</strong> *-unknown-openbsd</a></li><li class="chapter-item expanded "><a href="platform-support/unknown-uefi.html"><strong aria-hidden="true">6.27.</strong> *-unknown-uefi</a></li><li class="chapter-item expanded "><a href="platform-support/wasm64-unknown-unknown.html"><strong aria-hidden="true">6.28.</strong> wasm64-unknown-unknown</a></li><li class="chapter-item expanded "><a href="platform-support/x86_64-fortanix-unknown-sgx.html"><strong aria-hidden="true">6.29.</strong> x86_64-fortanix-unknown-sgx</a></li><li class="chapter-item expanded "><a href="platform-support/x86_64-unknown-none.html"><strong aria-hidden="true">6.30.</strong> x86_64-unknown-none</a></li><li class="chapter-item expanded "><a href="platform-support/x86_64h-apple-darwin.html"><strong aria-hidden="true">6.31.</strong> x86_64h-apple-darwin</a></li></ol></li><li class="chapter-item expanded "><a href="targets/index.html"><strong aria-hidden="true">7.</strong> Targets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="targets/built-in.html"><strong aria-hidden="true">7.1.</strong> Built-in Targets</a></li><li class="chapter-item expanded "><a href="targets/custom.html"><strong aria-hidden="true">7.2.</strong> Custom Targets</a></li><li class="chapter-item expanded "><a href="targets/known-issues.html"><strong aria-hidden="true">7.3.</strong> Known Issues</a></li></ol></li><li class="chapter-item expanded "><a href="profile-guided-optimization.html"><strong aria-hidden="true">8.</strong> Profile-guided Optimization</a></li><li class="chapter-item expanded "><a href="instrument-coverage.html"><strong aria-hidden="true">9.</strong> Instrumentation-based Code Coverage</a></li><li class="chapter-item expanded "><a href="linker-plugin-lto.html"><strong aria-hidden="true">10.</strong> Linker-plugin-based LTO</a></li><li class="chapter-item expanded "><a href="exploit-mitigations.html"><strong aria-hidden="true">11.</strong> Exploit Mitigations</a></li><li class="chapter-item expanded "><a href="contributing.html"><strong aria-hidden="true">12.</strong> Contributing to rustc</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The rustc book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust/tree/master/src/doc/rustc" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust/edit/master/src/doc/rustc/src/command-line-arguments.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="command-line-arguments"><a class="header" href="#command-line-arguments">Command-line Arguments</a></h1>
<p>Here's a list of command-line arguments to <code>rustc</code> and what they do.</p>
<p><a id="option-help"></a></p>
<h2 id="-h--help-get-help"><a class="header" href="#-h--help-get-help"><code>-h</code>/<code>--help</code>: get help</a></h2>
<p>This flag will print out help information for <code>rustc</code>.</p>
<p><a id="option-cfg"></a></p>
<h2 id="--cfg-configure-the-compilation-environment"><a class="header" href="#--cfg-configure-the-compilation-environment"><code>--cfg</code>: configure the compilation environment</a></h2>
<p>This flag can turn on or off various <code>#[cfg]</code> settings for <a href="../reference/conditional-compilation.html">conditional
compilation</a>.</p>
<p>The value can either be a single identifier or two identifiers separated by <code>=</code>.</p>
<p>For examples, <code>--cfg 'verbose'</code> or <code>--cfg 'feature=&quot;serde&quot;'</code>. These correspond
to <code>#[cfg(verbose)]</code> and <code>#[cfg(feature = &quot;serde&quot;)]</code> respectively.</p>
<p><a id="option-l-search-path"></a></p>
<h2 id="-l-add-a-directory-to-the-library-search-path"><a class="header" href="#-l-add-a-directory-to-the-library-search-path"><code>-L</code>: add a directory to the library search path</a></h2>
<p>The <code>-L</code> flag adds a path to search for external crates and libraries.</p>
<p>The kind of search path can optionally be specified with the form <code>-L KIND=PATH</code> where <code>KIND</code> may be one of:</p>
<ul>
<li><code>dependency</code> — Only search for transitive dependencies in this directory.</li>
<li><code>crate</code> — Only search for this crate's direct dependencies in this
directory.</li>
<li><code>native</code> — Only search for native libraries in this directory.</li>
<li><code>framework</code> — Only search for macOS frameworks in this directory.</li>
<li><code>all</code> — Search for all library kinds in this directory. This is the default
if <code>KIND</code> is not specified.</li>
</ul>
<p><a id="option-l-link-lib"></a></p>
<h2 id="-l-link-the-generated-crate-to-a-native-library"><a class="header" href="#-l-link-the-generated-crate-to-a-native-library"><code>-l</code>: link the generated crate to a native library</a></h2>
<p>Syntax: <code>-l [KIND[:MODIFIERS]=]NAME[:RENAME]</code>.</p>
<p>This flag allows you to specify linking to a specific native library when building
a crate.</p>
<p>The kind of library can optionally be specified with the form <code>-l KIND=lib</code>
where <code>KIND</code> may be one of:</p>
<ul>
<li><code>dylib</code> — A native dynamic library.</li>
<li><code>static</code> — A native static library (such as a <code>.a</code> archive).</li>
<li><code>framework</code> — A macOS framework.</li>
</ul>
<p>If the kind is specified, then linking modifiers can be attached to it.
Modifiers are specified as a comma-delimited string with each modifier prefixed with
either a <code>+</code> or <code>-</code> to indicate that the modifier is enabled or disabled, respectively.
Specifying multiple <code>modifiers</code> arguments in a single <code>link</code> attribute,
or multiple identical modifiers in the same <code>modifiers</code> argument is not currently supported. <br />
Example: <code>-l static:+whole-archive=mylib</code>.</p>
<p>The kind of library and the modifiers can also be specified in a <a href="../reference/items/external-blocks.html#the-link-attribute"><code>#[link]</code>
attribute</a>. If the kind is not specified in the <code>link</code>
attribute or on the command-line, it will link a dynamic library if available,
otherwise it will use a static library. If the kind is specified on the
command-line, it will override the kind specified in a <code>link</code> attribute.</p>
<p>The name used in a <code>link</code> attribute may be overridden using the form <code>-l ATTR_NAME:LINK_NAME</code> where <code>ATTR_NAME</code> is the name in the <code>link</code> attribute,
and <code>LINK_NAME</code> is the name of the actual library that will be linked.</p>
<h3 id="linking-modifiers-whole-archive"><a class="header" href="#linking-modifiers-whole-archive">Linking modifiers: <code>whole-archive</code></a></h3>
<p>This modifier is only compatible with the <code>static</code> linking kind.
Using any other kind will result in a compiler error.</p>
<p><code>+whole-archive</code> means that the static library is linked as a whole archive
without throwing any object files away.</p>
<p>This modifier translates to <code>--whole-archive</code> for <code>ld</code>-like linkers,
to <code>/WHOLEARCHIVE</code> for <code>link.exe</code>, and to <code>-force_load</code> for <code>ld64</code>.
The modifier does nothing for linkers that don't support it.</p>
<p>The default for this modifier is <code>-whole-archive</code>. <br />
NOTE: The default may currently be different in some cases for backward compatibility,
but it is not guaranteed. If you need whole archive semantics use <code>+whole-archive</code> explicitly.</p>
<h3 id="linking-modifiers-bundle"><a class="header" href="#linking-modifiers-bundle">Linking modifiers: <code>bundle</code></a></h3>
<p>This modifier is only compatible with the <code>static</code> linking kind.
Using any other kind will result in a compiler error.</p>
<p>When building a rlib or staticlib <code>+bundle</code> means that the native static library
will be packed into the rlib or staticlib archive, and then retrieved from there
during linking of the final binary.</p>
<p>When building a rlib <code>-bundle</code> means that the native static library is registered as a dependency
of that rlib &quot;by name&quot;, and object files from it are included only during linking of the final
binary, the file search by that name is also performed during final linking. <br />
When building a staticlib <code>-bundle</code> means that the native static library is simply not included
into the archive and some higher level build system will need to add it later during linking of
the final binary.</p>
<p>This modifier has no effect when building other targets like executables or dynamic libraries.</p>
<p>The default for this modifier is <code>+bundle</code>.</p>
<h3 id="linking-modifiers-verbatim"><a class="header" href="#linking-modifiers-verbatim">Linking modifiers: <code>verbatim</code></a></h3>
<p>This modifier is compatible with all linking kinds.</p>
<p><code>+verbatim</code> means that rustc itself won't add any target-specified library prefixes or suffixes
(like <code>lib</code> or <code>.a</code>) to the library name, and will try its best to ask for the same thing from the
linker.</p>
<p>For <code>ld</code>-like linkers supporting GNU extensions rustc will use the <code>-l:filename</code> syntax (note the
colon) when passing the library, so the linker won't add any prefixes or suffixes to it.
See <a href="https://sourceware.org/binutils/docs/ld/Options.html"><code>-l namespec</code></a> in ld documentation for
more details. <br />
For linkers not supporting any verbatim modifiers (e.g. <code>link.exe</code> or <code>ld64</code>) the library name will
be passed as is. So the most reliable cross-platform use scenarios for this option are when no
linker is involved, for example bundling native libraries into rlibs.</p>
<p><code>-verbatim</code> means that rustc will either add a target-specific prefix and suffix to the library
name before passing it to linker, or won't prevent linker from implicitly adding it. <br />
In case of <code>raw-dylib</code> kind in particular <code>.dll</code> will be added to the library name on Windows.</p>
<p>The default for this modifier is <code>-verbatim</code>.</p>
<p>NOTE: Even with <code>+verbatim</code> and <code>-l:filename</code> syntax <code>ld</code>-like linkers do not typically support
passing absolute paths to libraries. Usually such paths need to be passed as input files without
using any options like <code>-l</code>, e.g. <code>ld /my/absolute/path</code>. <br />
<code>-Clink-arg=/my/absolute/path</code> can be used for doing this from stable <code>rustc</code>.</p>
<p><a id="option-crate-type"></a></p>
<h2 id="--crate-type-a-list-of-types-of-crates-for-the-compiler-to-emit"><a class="header" href="#--crate-type-a-list-of-types-of-crates-for-the-compiler-to-emit"><code>--crate-type</code>: a list of types of crates for the compiler to emit</a></h2>
<p>This instructs <code>rustc</code> on which crate type to build. This flag accepts a
comma-separated list of values, and may be specified multiple times. The valid
crate types are:</p>
<ul>
<li><code>lib</code> — Generates a library kind preferred by the compiler, currently
defaults to <code>rlib</code>.</li>
<li><code>rlib</code> — A Rust static library.</li>
<li><code>staticlib</code> — A native static library.</li>
<li><code>dylib</code> — A Rust dynamic library.</li>
<li><code>cdylib</code> — A native dynamic library.</li>
<li><code>bin</code> — A runnable executable program.</li>
<li><code>proc-macro</code> — Generates a format suitable for a procedural macro library
that may be loaded by the compiler.</li>
</ul>
<p>The crate type may be specified with the <a href="../reference/linkage.html"><code>crate_type</code> attribute</a>.
The <code>--crate-type</code> command-line value will override the <code>crate_type</code>
attribute.</p>
<p>More details may be found in the <a href="../reference/linkage.html">linkage chapter</a> of the reference.</p>
<p><a id="option-crate-name"></a></p>
<h2 id="--crate-name-specify-the-name-of-the-crate-being-built"><a class="header" href="#--crate-name-specify-the-name-of-the-crate-being-built"><code>--crate-name</code>: specify the name of the crate being built</a></h2>
<p>This informs <code>rustc</code> of the name of your crate.</p>
<p><a id="option-edition"></a></p>
<h2 id="--edition-specify-the-edition-to-use"><a class="header" href="#--edition-specify-the-edition-to-use"><code>--edition</code>: specify the edition to use</a></h2>
<p>This flag takes a value of <code>2015</code>, <code>2018</code> or <code>2021</code>. The default is <code>2015</code>. More
information about editions may be found in the <a href="../edition-guide/introduction.html">edition guide</a>.</p>
<p><a id="option-emit"></a></p>
<h2 id="--emit-specifies-the-types-of-output-files-to-generate"><a class="header" href="#--emit-specifies-the-types-of-output-files-to-generate"><code>--emit</code>: specifies the types of output files to generate</a></h2>
<p>This flag controls the types of output files generated by the compiler. It
accepts a comma-separated list of values, and may be specified multiple times.
The valid emit kinds are:</p>
<ul>
<li><code>asm</code> — Generates a file with the crate's assembly code. The default output
filename is <code>CRATE_NAME.s</code>.</li>
<li><code>dep-info</code> — Generates a file with Makefile syntax that indicates all the
source files that were loaded to generate the crate. The default output
filename is <code>CRATE_NAME.d</code>.</li>
<li><code>link</code> — Generates the crates specified by <code>--crate-type</code>. The default
output filenames depend on the crate type and platform. This is the default
if <code>--emit</code> is not specified.</li>
<li><code>llvm-bc</code> — Generates a binary file containing the <a href="https://llvm.org/docs/BitCodeFormat.html">LLVM bitcode</a>. The
default output filename is <code>CRATE_NAME.bc</code>.</li>
<li><code>llvm-ir</code> — Generates a file containing <a href="https://llvm.org/docs/LangRef.html">LLVM IR</a>. The default output
filename is <code>CRATE_NAME.ll</code>.</li>
<li><code>metadata</code> — Generates a file containing metadata about the crate. The
default output filename is <code>libCRATE_NAME.rmeta</code>.</li>
<li><code>mir</code> — Generates a file containing rustc's mid-level intermediate
representation. The default output filename is <code>CRATE_NAME.mir</code>.</li>
<li><code>obj</code> — Generates a native object file. The default output filename is
<code>CRATE_NAME.o</code>.</li>
</ul>
<p>The output filename can be set with the <a href="#option-o-output"><code>-o</code> flag</a>. A
suffix may be added to the filename with the <a href="codegen-options/index.html#extra-filename"><code>-C extra-filename</code>
flag</a>. The files are written to the
current directory unless the <a href="#option-out-dir"><code>--out-dir</code> flag</a> is used. Each
emission type may also specify the output filename with the form <code>KIND=PATH</code>,
which takes precedence over the <code>-o</code> flag.</p>
<p><a id="option-print"></a></p>
<h2 id="--print-print-compiler-information"><a class="header" href="#--print-print-compiler-information"><code>--print</code>: print compiler information</a></h2>
<p>This flag prints out various information about the compiler. This flag may be
specified multiple times, and the information is printed in the order the
flags are specified. Specifying a <code>--print</code> flag will usually disable the
<a href="#option-emit"><code>--emit</code></a> step and will only print the requested information.
The valid types of print values are:</p>
<ul>
<li><code>crate-name</code> — The name of the crate.</li>
<li><code>file-names</code> — The names of the files created by the <code>link</code> emit kind.</li>
<li><code>sysroot</code> — Path to the sysroot.</li>
<li><code>target-libdir</code> - Path to the target libdir.</li>
<li><code>cfg</code> — List of cfg values. See <a href="../reference/conditional-compilation.html">conditional compilation</a> for more
information about cfg values.</li>
<li><code>target-list</code> — List of known targets. The target may be selected with the
<code>--target</code> flag.</li>
<li><code>target-cpus</code> — List of available CPU values for the current target. The
target CPU may be selected with the <a href="codegen-options/index.html#target-cpu"><code>-C target-cpu=val</code>
flag</a>.</li>
<li><code>target-features</code> — List of available target features for the current
target. Target features may be enabled with the <a href="codegen-options/index.html#target-feature"><code>-C target-feature=val</code>
flag</a>.  This flag is unsafe. See
<a href="targets/known-issues.html">known issues</a> for more details.</li>
<li><code>relocation-models</code> — List of relocation models. Relocation models may be
selected with the <a href="codegen-options/index.html#relocation-model"><code>-C relocation-model=val</code>
flag</a>.</li>
<li><code>code-models</code> — List of code models. Code models may be selected with the
<a href="codegen-options/index.html#code-model"><code>-C code-model=val</code> flag</a>.</li>
<li><code>tls-models</code> — List of Thread Local Storage models supported. The model may
be selected with the <code>-Z tls-model=val</code> flag.</li>
<li><code>native-static-libs</code> — This may be used when creating a <code>staticlib</code> crate
type. If this is the only flag, it will perform a full compilation and
include a diagnostic note that indicates the linker flags to use when
linking the resulting static library. The note starts with the text
<code>native-static-libs:</code> to make it easier to fetch the output.</li>
<li><code>link-args</code> — This flag does not disable the <code>--emit</code> step. When linking,
this flag causes <code>rustc</code> to print the full linker invocation in a
human-readable form. This can be useful when debugging linker options. The
exact format of this debugging output is not a stable guarantee, other than
that it will include the linker executable and the text of each command-line
argument passed to the linker.</li>
<li><code>deployment-target</code> - The currently selected <a href="https://developer.apple.com/library/archive/documentation/DeveloperTools/Conceptual/cross_development/Configuring/configuring.html">deployment target</a> (or minimum OS version)
for the selected Apple platform target. This value can be used or passed along to other
components alongside a Rust build that need this information, such as C compilers.
This returns rustc's minimum supported deployment target if no <code>*_DEPLOYMENT_TARGET</code> variable
is present in the environment, or otherwise returns the variable's parsed value.</li>
</ul>
<p><a id="option-g-debug"></a></p>
<h2 id="-g-include-debug-information"><a class="header" href="#-g-include-debug-information"><code>-g</code>: include debug information</a></h2>
<p>A synonym for <a href="codegen-options/index.html#debuginfo"><code>-C debuginfo=2</code></a>.</p>
<p><a id="option-o-optimize"></a></p>
<h2 id="-o-optimize-your-code"><a class="header" href="#-o-optimize-your-code"><code>-O</code>: optimize your code</a></h2>
<p>A synonym for <a href="codegen-options/index.html#opt-level"><code>-C opt-level=2</code></a>.</p>
<p><a id="option-o-output"></a></p>
<h2 id="-o-filename-of-the-output"><a class="header" href="#-o-filename-of-the-output"><code>-o</code>: filename of the output</a></h2>
<p>This flag controls the output filename.</p>
<p><a id="option-out-dir"></a></p>
<h2 id="--out-dir-directory-to-write-the-output-in"><a class="header" href="#--out-dir-directory-to-write-the-output-in"><code>--out-dir</code>: directory to write the output in</a></h2>
<p>The outputted crate will be written to this directory. This flag is ignored if
the <a href="#option-o-output"><code>-o</code> flag</a> is used.</p>
<p><a id="option-explain"></a></p>
<h2 id="--explain-provide-a-detailed-explanation-of-an-error-message"><a class="header" href="#--explain-provide-a-detailed-explanation-of-an-error-message"><code>--explain</code>: provide a detailed explanation of an error message</a></h2>
<p>Each error of <code>rustc</code>'s comes with an error code; this will print
out a longer explanation of a given error.</p>
<p><a id="option-test"></a></p>
<h2 id="--test-build-a-test-harness"><a class="header" href="#--test-build-a-test-harness"><code>--test</code>: build a test harness</a></h2>
<p>When compiling this crate, <code>rustc</code> will ignore your <code>main</code> function
and instead produce a test harness. See the <a href="tests/index.html">Tests chapter</a>
for more information about tests.</p>
<p><a id="option-target"></a></p>
<h2 id="--target-select-a-target-triple-to-build"><a class="header" href="#--target-select-a-target-triple-to-build"><code>--target</code>: select a target triple to build</a></h2>
<p>This controls which <a href="targets/index.html">target</a> to produce.</p>
<p><a id="option-w-warn"></a></p>
<h2 id="-w-set-lint-warnings"><a class="header" href="#-w-set-lint-warnings"><code>-W</code>: set lint warnings</a></h2>
<p>This flag will set which lints should be set to the <a href="lints/levels.html#warn">warn level</a>.</p>
<p><em>Note:</em> The order of these lint level arguments is taken into account, see <a href="lints/levels.html#via-compiler-flag">lint level via compiler flag</a> for more information.</p>
<p><a id="option-force-warn"></a></p>
<h2 id="--force-warn-force-a-lint-to-warn"><a class="header" href="#--force-warn-force-a-lint-to-warn"><code>--force-warn</code>: force a lint to warn</a></h2>
<p>This flag sets the given lint to the <a href="lints/levels.html#force-warn">forced warn level</a> and the level cannot be overridden, even ignoring the <a href="lints/levels.html#capping-lints">lint caps</a>.</p>
<p><a id="option-a-allow"></a></p>
<h2 id="-a-set-lint-allowed"><a class="header" href="#-a-set-lint-allowed"><code>-A</code>: set lint allowed</a></h2>
<p>This flag will set which lints should be set to the <a href="lints/levels.html#allow">allow level</a>.</p>
<p><em>Note:</em> The order of these lint level arguments is taken into account, see <a href="lints/levels.html#via-compiler-flag">lint level via compiler flag</a> for more information.</p>
<p><a id="option-d-deny"></a></p>
<h2 id="-d-set-lint-denied"><a class="header" href="#-d-set-lint-denied"><code>-D</code>: set lint denied</a></h2>
<p>This flag will set which lints should be set to the <a href="lints/levels.html#deny">deny level</a>.</p>
<p><em>Note:</em> The order of these lint level arguments is taken into account, see <a href="lints/levels.html#via-compiler-flag">lint level via compiler flag</a> for more information.</p>
<p><a id="option-f-forbid"></a></p>
<h2 id="-f-set-lint-forbidden"><a class="header" href="#-f-set-lint-forbidden"><code>-F</code>: set lint forbidden</a></h2>
<p>This flag will set which lints should be set to the <a href="lints/levels.html#forbid">forbid level</a>.</p>
<p><em>Note:</em> The order of these lint level arguments is taken into account, see <a href="lints/levels.html#via-compiler-flag">lint level via compiler flag</a> for more information.</p>
<p><a id="option-z-unstable"></a></p>
<h2 id="-z-set-unstable-options"><a class="header" href="#-z-set-unstable-options"><code>-Z</code>: set unstable options</a></h2>
<p>This flag will allow you to set unstable options of rustc. In order to set multiple options,
the -Z flag can be used multiple times. For example: <code>rustc -Z verbose -Z time-passes</code>.
Specifying options with -Z is only available on nightly. To view all available options
run: <code>rustc -Z help</code>, or see <a href="../unstable-book/index.html">The Unstable Book</a>.</p>
<p><a id="option-cap-lints"></a></p>
<h2 id="--cap-lints-set-the-most-restrictive-lint-level"><a class="header" href="#--cap-lints-set-the-most-restrictive-lint-level"><code>--cap-lints</code>: set the most restrictive lint level</a></h2>
<p>This flag lets you 'cap' lints, for more, <a href="lints/levels.html#capping-lints">see here</a>.</p>
<p><a id="option-codegen"></a></p>
<h2 id="-c--codegen-code-generation-options"><a class="header" href="#-c--codegen-code-generation-options"><code>-C</code>/<code>--codegen</code>: code generation options</a></h2>
<p>This flag will allow you to set <a href="codegen-options/index.html">codegen options</a>.</p>
<p><a id="option-version"></a></p>
<h2 id="-v--version-print-a-version"><a class="header" href="#-v--version-print-a-version"><code>-V</code>/<code>--version</code>: print a version</a></h2>
<p>This flag will print out <code>rustc</code>'s version.</p>
<p><a id="option-verbose"></a></p>
<h2 id="-v--verbose-use-verbose-output"><a class="header" href="#-v--verbose-use-verbose-output"><code>-v</code>/<code>--verbose</code>: use verbose output</a></h2>
<p>This flag, when combined with other flags, makes them produce extra output.</p>
<p><a id="option-extern"></a></p>
<h2 id="--extern-specify-where-an-external-library-is-located"><a class="header" href="#--extern-specify-where-an-external-library-is-located"><code>--extern</code>: specify where an external library is located</a></h2>
<p>This flag allows you to pass the name and location for an external crate of a
direct dependency. Indirect dependencies (dependencies of dependencies) are
located using the <a href="#option-l-search-path"><code>-L</code> flag</a>. The given crate name is
added to the <a href="../reference/names/preludes.html#extern-prelude">extern prelude</a>, similar to specifying <code>extern crate</code> within the
root module. The given crate name does not need to match the name
the library was built with.</p>
<p>Specifying <code>--extern</code> has one behavior difference from <code>extern crate</code>:
<code>--extern</code> merely makes the crate a <em>candidate</em> for being linked; it does not
actually link it unless it's actively used. In rare occasions you may wish
to ensure a crate is linked even if you don't actively use it from your
code: for example, if it changes the global allocator or if it contains
<code>#[no_mangle]</code> symbols for use by other programming languages. In such
cases you'll need to use <code>extern crate</code>.</p>
<p>This flag may be specified multiple times. This flag takes an argument with
either of the following formats:</p>
<ul>
<li><code>CRATENAME=PATH</code> — Indicates the given crate is found at the given path.</li>
<li><code>CRATENAME</code> — Indicates the given crate may be found in the search path,
such as within the sysroot or via the <code>-L</code> flag.</li>
</ul>
<p>The same crate name may be specified multiple times for different crate types.
If both an <code>rlib</code> and <code>dylib</code> are found, an internal algorithm is used to
decide which to use for linking. The <a href="codegen-options/index.html#prefer-dynamic"><code>-C prefer-dynamic</code>
flag</a> may be used to influence which is used.</p>
<p>If the same crate name is specified with and without a path, the one with the
path is used and the pathless flag has no effect.</p>
<p><a id="option-sysroot"></a></p>
<h2 id="--sysroot-override-the-system-root"><a class="header" href="#--sysroot-override-the-system-root"><code>--sysroot</code>: Override the system root</a></h2>
<p>The &quot;sysroot&quot; is where <code>rustc</code> looks for the crates that come with the Rust
distribution; this flag allows that to be overridden.</p>
<p><a id="option-error-format"></a></p>
<h2 id="--error-format-control-how-errors-are-produced"><a class="header" href="#--error-format-control-how-errors-are-produced"><code>--error-format</code>: control how errors are produced</a></h2>
<p>This flag lets you control the format of messages. Messages are printed to
stderr. The valid options are:</p>
<ul>
<li><code>human</code> — Human-readable output. This is the default.</li>
<li><code>json</code> — Structured JSON output. See <a href="json.html">the JSON chapter</a> for more detail.</li>
<li><code>short</code> — Short, one-line messages.</li>
</ul>
<p><a id="option-color"></a></p>
<h2 id="--color-configure-coloring-of-output"><a class="header" href="#--color-configure-coloring-of-output"><code>--color</code>: configure coloring of output</a></h2>
<p>This flag lets you control color settings of the output. The valid options
are:</p>
<ul>
<li><code>auto</code> — Use colors if output goes to a tty. This is the default.</li>
<li><code>always</code> — Always use colors.</li>
<li><code>never</code> — Never colorize output.</li>
</ul>
<p><a id="option-diagnostic-width"></a></p>
<h2 id="--diagnostic-width-specify-the-terminal-width-for-diagnostics"><a class="header" href="#--diagnostic-width-specify-the-terminal-width-for-diagnostics"><code>--diagnostic-width</code>: specify the terminal width for diagnostics</a></h2>
<p>This flag takes a number that specifies the width of the terminal in characters.
Formatting of diagnostics will take the width into consideration to make them better fit on the screen.</p>
<p><a id="option-remap-path-prefix"></a></p>
<h2 id="--remap-path-prefix-remap-source-names-in-output"><a class="header" href="#--remap-path-prefix-remap-source-names-in-output"><code>--remap-path-prefix</code>: remap source names in output</a></h2>
<p>Remap source path prefixes in all output, including compiler diagnostics,
debug information, macro expansions, etc. It takes a value of the form
<code>FROM=TO</code> where a path prefix equal to <code>FROM</code> is rewritten to the value <code>TO</code>.
The <code>FROM</code> may itself contain an <code>=</code> symbol, but the <code>TO</code> value may not. This
flag may be specified multiple times.</p>
<p>This is useful for normalizing build products, for example by removing the
current directory out of pathnames emitted into the object files. The
replacement is purely textual, with no consideration of the current system's
pathname syntax. For example <code>--remap-path-prefix foo=bar</code> will match
<code>foo/lib.rs</code> but not <code>./foo/lib.rs</code>.</p>
<p>When multiple remappings are given and several of them match, the <strong>last</strong>
matching one is applied.</p>
<p><a id="option-json"></a></p>
<h2 id="--json-configure-json-messages-printed-by-the-compiler"><a class="header" href="#--json-configure-json-messages-printed-by-the-compiler"><code>--json</code>: configure json messages printed by the compiler</a></h2>
<p>When the <a href="#option-error-format"><code>--error-format=json</code> option</a> is passed to
rustc then all of the compiler's diagnostic output will be emitted in the form
of JSON blobs. The <code>--json</code> argument can be used in conjunction with
<code>--error-format=json</code> to configure what the JSON blobs contain as well as
which ones are emitted.</p>
<p>With <code>--error-format=json</code> the compiler will always emit any compiler errors as
a JSON blob, but the following options are also available to the <code>--json</code> flag
to customize the output:</p>
<ul>
<li>
<p><code>diagnostic-short</code> - json blobs for diagnostic messages should use the &quot;short&quot;
rendering instead of the normal &quot;human&quot; default. This means that the output of
<code>--error-format=short</code> will be embedded into the JSON diagnostics instead of
the default <code>--error-format=human</code>.</p>
</li>
<li>
<p><code>diagnostic-rendered-ansi</code> - by default JSON blobs in their <code>rendered</code> field
will contain a plain text rendering of the diagnostic. This option instead
indicates that the diagnostic should have embedded ANSI color codes intended
to be used to colorize the message in the manner rustc typically already does
for terminal outputs. Note that this is usefully combined with crates like
<a href="https://crates.io/crates/fwdansi"><code>fwdansi</code></a> to translate these ANSI codes
on Windows to console commands or
<a href="https://crates.io/crates/strip-ansi-escapes"><code>strip-ansi-escapes</code></a> if you'd
like to optionally remove the ansi colors afterwards.</p>
</li>
<li>
<p><code>artifacts</code> - this instructs rustc to emit a JSON blob for each artifact that
is emitted. An artifact corresponds to a request from the <a href="#option-emit"><code>--emit</code> CLI
argument</a>, and as soon as the artifact is available on the
filesystem a notification will be emitted.</p>
</li>
<li>
<p><code>future-incompat</code> - includes a JSON message that contains a report if the
crate contains any code that may fail to compile in the future.</p>
</li>
</ul>
<p>Note that it is invalid to combine the <code>--json</code> argument with the
<a href="#option-color"><code>--color</code></a> argument, and it is required to combine <code>--json</code>
with <code>--error-format=json</code>.</p>
<p>See <a href="json.html">the JSON chapter</a> for more detail.</p>
<p><a id="at-path"></a></p>
<h2 id="path-load-command-line-flags-from-a-path"><a class="header" href="#path-load-command-line-flags-from-a-path"><code>@path</code>: load command-line flags from a path</a></h2>
<p>If you specify <code>@path</code> on the command-line, then it will open <code>path</code> and read
command line options from it. These options are one per line; a blank line indicates
an empty option. The file can use Unix or Windows style line endings, and must be
encoded as UTF-8.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="what-is-rustc.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="codegen-options/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="what-is-rustc.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="codegen-options/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
