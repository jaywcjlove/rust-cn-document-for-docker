<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Usage - Clippy Documentation</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="usage.html" class="active"><strong aria-hidden="true">2.</strong> Usage</a></li><li class="chapter-item expanded "><a href="configuration.html"><strong aria-hidden="true">3.</strong> Configuration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="lint_configuration.html"><strong aria-hidden="true">3.1.</strong> Lint Configuration</a></li></ol></li><li class="chapter-item expanded "><a href="lints.html"><strong aria-hidden="true">4.</strong> Clippy's Lints</a></li><li class="chapter-item expanded "><a href="continuous_integration/index.html"><strong aria-hidden="true">5.</strong> Continuous Integration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="continuous_integration/github_actions.html"><strong aria-hidden="true">5.1.</strong> GitHub Actions</a></li><li class="chapter-item expanded "><a href="continuous_integration/travis.html"><strong aria-hidden="true">5.2.</strong> Travis CI</a></li></ol></li><li class="chapter-item expanded "><a href="development/index.html"><strong aria-hidden="true">6.</strong> Development</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="development/basics.html"><strong aria-hidden="true">6.1.</strong> Basics</a></li><li class="chapter-item expanded "><a href="development/adding_lints.html"><strong aria-hidden="true">6.2.</strong> Adding Lints</a></li><li class="chapter-item expanded "><a href="development/lint_passes.html"><strong aria-hidden="true">6.3.</strong> Lint Passes</a></li><li class="chapter-item expanded "><a href="development/type_checking.html"><strong aria-hidden="true">6.4.</strong> Type Checking</a></li><li class="chapter-item expanded "><a href="development/macro_expansions.html"><strong aria-hidden="true">6.5.</strong> Macro Expansions</a></li><li class="chapter-item expanded "><a href="development/common_tools_writing_lints.html"><strong aria-hidden="true">6.6.</strong> Common Tools</a></li><li class="chapter-item expanded "><a href="development/infrastructure/index.html"><strong aria-hidden="true">6.7.</strong> Infrastructure</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="development/infrastructure/sync.html"><strong aria-hidden="true">6.7.1.</strong> Syncing changes between Clippy and rust-lang/rust</a></li><li class="chapter-item expanded "><a href="development/infrastructure/backport.html"><strong aria-hidden="true">6.7.2.</strong> Backporting Changes</a></li><li class="chapter-item expanded "><a href="development/infrastructure/changelog_update.html"><strong aria-hidden="true">6.7.3.</strong> Updating the Changelog</a></li><li class="chapter-item expanded "><a href="development/infrastructure/release.html"><strong aria-hidden="true">6.7.4.</strong> Release a New Version</a></li><li class="chapter-item expanded "><a href="development/infrastructure/book.html"><strong aria-hidden="true">6.7.5.</strong> The Clippy Book</a></li></ol></li><li class="chapter-item expanded "><a href="development/proposals/index.html"><strong aria-hidden="true">6.8.</strong> Proposals</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="development/proposals/roadmap-2021.html"><strong aria-hidden="true">6.8.1.</strong> Roadmap 2021</a></li><li class="chapter-item expanded "><a href="development/proposals/syntax-tree-patterns.html"><strong aria-hidden="true">6.8.2.</strong> Syntax Tree Patterns</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Clippy Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust-clippy/tree/master/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust-clippy/edit/master/book/src/usage.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="usage"><a class="header" href="#usage">Usage</a></h1>
<p>This chapter describes how to use Clippy to get the most out of it. Clippy can
be used as a <code>cargo</code> subcommand or, like <code>rustc</code>, directly with the
<code>clippy-driver</code> binary.</p>
<blockquote>
<p><em>Note:</em> This chapter assumes that you have Clippy installed already. If you're
not sure, take a look at the <a href="installation.html">Installation</a> chapter.</p>
</blockquote>
<h2 id="cargo-subcommand"><a class="header" href="#cargo-subcommand">Cargo subcommand</a></h2>
<p>The easiest and most common way to run Clippy is through <code>cargo</code>. To do that,
just run</p>
<pre><code class="language-bash">cargo clippy
</code></pre>
<h3 id="lint-configuration"><a class="header" href="#lint-configuration">Lint configuration</a></h3>
<p>The above command will run the default set of lints, which are included in the
lint group <code>clippy::all</code>. You might want to use even more lints, or you may not
agree with every Clippy lint, and for that there are ways to configure lint
levels.</p>
<blockquote>
<p><em>Note:</em> Clippy is meant to be used with a generous sprinkling of
<code>#[allow(..)]</code>s through your code. So if you disagree with a lint, don't feel
bad disabling them for parts of your code or the whole project.</p>
</blockquote>
<h4 id="command-line"><a class="header" href="#command-line">Command line</a></h4>
<p>You can configure lint levels on the command line by adding
<code>-A/W/D clippy::lint_name</code> like this:</p>
<pre><code class="language-bash">cargo clippy -- -Aclippy::style -Wclippy::double_neg -Dclippy::perf
</code></pre>
<p>For <a href="continuous_integration/index.html">CI</a> all warnings can be elevated to errors which will inturn fail
the build and cause Clippy to exit with a code other than <code>0</code>.</p>
<pre><code>cargo clippy -- -Dwarnings
</code></pre>
<blockquote>
<p><em>Note:</em> Adding <code>-D warnings</code> will cause your build to fail if <strong>any</strong> warnings
are found in your code. That includes warnings found by rustc (e.g.
<code>dead_code</code>, etc.).</p>
</blockquote>
<p>For more information on configuring lint levels, see the <a href="https://doc.rust-lang.org/rustc/lints/levels.html#configuring-warning-levels">rustc documentation</a>.</p>
<h4 id="even-more-lints"><a class="header" href="#even-more-lints">Even more lints</a></h4>
<p>Clippy has lint groups which are allow-by-default. This means, that you will
have to enable the lints in those groups manually.</p>
<p>For a full list of all lints with their description and examples, please refer
to <a href="https://rust-lang.github.io/rust-clippy/master/index.html">Clippy's lint list</a>. The two most important allow-by-default groups are
described below:</p>
<h5 id="clippypedantic"><a class="header" href="#clippypedantic"><code>clippy::pedantic</code></a></h5>
<p>The first group is the <code>pedantic</code> group. This group contains really opinionated
lints, that may have some intentional false positives in order to prevent false
negatives. So while this group is ready to be used in production, you can expect
to sprinkle multiple <code>#[allow(..)]</code>s in your code. If you find any false
positives, you're still welcome to report them to us for future improvements.</p>
<blockquote>
<p>FYI: Clippy uses the whole group to lint itself.</p>
</blockquote>
<h5 id="clippyrestriction"><a class="header" href="#clippyrestriction"><code>clippy::restriction</code></a></h5>
<p>The second group is the <code>restriction</code> group. This group contains lints that
&quot;restrict&quot; the language in some way. For example the <code>clippy::unwrap</code> lint from
this group won't allow you to use <code>.unwrap()</code> in your code. You may want to look
through the lints in this group and enable the ones that fit your need.</p>
<blockquote>
<p><em>Note:</em> You shouldn't enable the whole lint group, but cherry-pick lints from
this group. Some lints in this group will even contradict other Clippy lints!</p>
</blockquote>
<h4 id="too-many-lints"><a class="header" href="#too-many-lints">Too many lints</a></h4>
<p>The most opinionated warn-by-default group of Clippy is the <code>clippy::style</code>
group. Some people prefer to disable this group completely and then cherry-pick
some lints they like from this group. The same is of course possible with every
other of Clippy's lint groups.</p>
<blockquote>
<p><em>Note:</em> We try to keep the warn-by-default groups free from false positives
(FP). If you find that a lint wrongly triggers, please report it in an issue
(if there isn't an issue for that FP already)</p>
</blockquote>
<h4 id="source-code"><a class="header" href="#source-code">Source Code</a></h4>
<p>You can configure lint levels in source code the same way you can configure
<code>rustc</code> lints:</p>
<pre><code class="language-rust ignore">#![allow(clippy::style)]

#[warn(clippy::double_neg)]
fn main() {
    let x = 1;
    let y = --x;
    //      ^^ warning: double negation
}</code></pre>
<h3 id="automatically-applying-clippy-suggestions"><a class="header" href="#automatically-applying-clippy-suggestions">Automatically applying Clippy suggestions</a></h3>
<p>Clippy can automatically apply some lint suggestions, just like the compiler. Note that <code>--fix</code> implies
<code>--all-targets</code>, so it can fix as much code as it can.</p>
<pre><code class="language-terminal">cargo clippy --fix
</code></pre>
<h3 id="workspaces"><a class="header" href="#workspaces">Workspaces</a></h3>
<p>All the usual workspace options should work with Clippy. For example the
following command will run Clippy on the <code>example</code> crate in your workspace:</p>
<pre><code class="language-terminal">cargo clippy -p example
</code></pre>
<p>As with <code>cargo check</code>, this includes dependencies that are members of the
workspace, like path dependencies. If you want to run Clippy <strong>only</strong> on the
given crate, use the <code>--no-deps</code> option like this:</p>
<pre><code class="language-terminal">cargo clippy -p example -- --no-deps
</code></pre>
<h2 id="using-clippy-without-cargo-clippy-driver"><a class="header" href="#using-clippy-without-cargo-clippy-driver">Using Clippy without <code>cargo</code>: <code>clippy-driver</code></a></h2>
<p>Clippy can also be used in projects that do not use cargo. To do so, run
<code>clippy-driver</code> with the same arguments you use for <code>rustc</code>. For example:</p>
<pre><code class="language-terminal">clippy-driver --edition 2018 -Cpanic=abort foo.rs
</code></pre>
<blockquote>
<p><em>Note:</em> <code>clippy-driver</code> is designed for running Clippy and should not be used
as a general replacement for <code>rustc</code>. <code>clippy-driver</code> may produce artifacts
that are not optimized as expected, for example.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="installation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="configuration.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="installation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="configuration.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="ace.js"></script>
        <script src="editor.js"></script>
        <script src="mode-rust.js"></script>
        <script src="theme-dawn.js"></script>
        <script src="theme-tomorrow_night.js"></script>

        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
